<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>ì •ì‚° ì˜ìˆ˜ì¦</title>
    <style>
        @page {
            size: A4;
            margin: 20mm;
        }

        body {
            font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 700px;
            margin: 0 auto;
            border: 3px solid #e74c3c;
            padding: 40px;
            background: #fff;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 2px solid #e74c3c;
            padding-bottom: 20px;
        }

        .header h1 {
            font-size: 32px;
            color: #e74c3c;
            margin: 0 0 10px 0;
            font-weight: bold;
        }

        .header .subtitle {
            font-size: 14px;
            color: #666;
            margin: 5px 0;
        }

        .info-section {
            margin-bottom: 30px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .info-label {
            font-weight: bold;
            color: #666;
            width: 40%;
        }

        .info-value {
            width: 60%;
            text-align: right;
            color: #333;
        }

        .amount-section {
            margin: 30px 0;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
        }

        .amount-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            font-size: 16px;
        }

        .amount-label {
            font-weight: 600;
            color: #555;
        }

        .amount-value {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            color: #333;
        }

        .total-row {
            border-top: 2px solid #e74c3c;
            margin-top: 15px;
            padding-top: 15px;
        }

        .total-row .amount-label {
            font-size: 18px;
            color: #e74c3c;
        }

        .total-row .amount-value {
            font-size: 20px;
            color: #e74c3c;
        }

        .status-badge {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }

        .status-ordered {
            background: #fff3cd;
            color: #856404;
            border: 2px solid #ffc107;
        }

        .status-paid {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
        }

        .status-completed {
            background: #d1ecf1;
            color: #0c5460;
            border: 2px solid #17a2b8;
        }

        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            text-align: center;
            font-size: 12px;
            color: #999;
        }

        .footer .company-info {
            margin: 10px 0;
        }

        .footer .timestamp {
            margin-top: 15px;
            font-style: italic;
        }

        .spicy-logo {
            font-size: 40px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
<div class="container">
    <!-- Header -->
    <div class="header">
        <div class="spicy-logo">ğŸŒ¶ï¸</div>
        <h1>SPICY ì •ì‚° ì˜ìˆ˜ì¦</h1>
        <div class="subtitle" th:if="${type == 'DAILY'}">
            ì¼ë³„ ì •ì‚° ëª…ì„¸ì„œ
        </div>
        <div class="subtitle" th:if="${type == 'MONTHLY'}">
            ì›”ë³„ ì •ì‚° ëª…ì„¸ì„œ
        </div>
        <div class="subtitle">
            ë°œí–‰ì¼: <span th:text="${targetDate}">2026-01-19</span>
        </div>
    </div>

    <!-- ì¼ë³„ ì •ì‚° ë‚´ìš© -->
    <div th:if="${type == 'DAILY' and receipt != null}">
        <div class="info-section">
            <div class="info-row">
                <div class="info-label">ì •ì‚° ë‚ ì§œ</div>
                <div class="info-value" th:text="${targetDate}">2026-01-19</div>
            </div>
            <div class="info-row">
                <div class="info-label">ì£¼ë¬¸ ê±´ìˆ˜</div>
                <div class="info-value">
                    <span th:text="${receipt.orderCount}">0</span> ê±´
                </div>
            </div>
        </div>

        <div class="amount-section">
            <div class="amount-row">
                <div class="amount-label">ì¼ì¼ ë§¤ì… ê¸ˆì•¡</div>
                <div class="amount-value">
                    â‚©<span th:text="${#numbers.formatInteger(receipt.dailyAmount, 0, 'COMMA')}">0</span>
                </div>
            </div>
            <div class="amount-row" th:if="${receipt.monthlyAccumulatedAmount != null}">
                <div class="amount-label">ì›” ëˆ„ì  ë§¤ì… ê¸ˆì•¡</div>
                <div class="amount-value">
                    â‚©<span th:text="${#numbers.formatInteger(receipt.monthlyAccumulatedAmount, 0, 'COMMA')}">0</span>
                </div>
            </div>
            <div class="amount-row total-row">
                <div class="amount-label">ì´ ì •ì‚° ê¸ˆì•¡</div>
                <div class="amount-value">
                    â‚©<span th:text="${#numbers.formatInteger(receipt.dailyAmount, 0, 'COMMA')}">0</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ì›”ë³„ ì •ì‚° ë‚´ìš© -->
    <div th:if="${type == 'MONTHLY' and receipt != null}">
        <div class="info-section">
            <div class="info-row">
                <div class="info-label">ì •ì‚° ê¸°ê°„</div>
                <div class="info-value" th:text="${targetDate}">2026-01</div>
            </div>
            <div class="info-row">
                <div class="info-label">ì •ì‚° ìƒíƒœ</div>
                <div class="info-value">
                    <span th:if="${receipt.status == 'ORDERED'}" class="status-badge status-ordered">ë°œì£¼ ì™„ë£Œ</span>
                    <span th:if="${receipt.status == 'PAID'}" class="status-badge status-paid">ê²°ì œ ì™„ë£Œ</span>
                    <span th:if="${receipt.status == 'COMPLETED'}" class="status-badge status-completed">ì˜ìˆ˜ì¦ ë°œí–‰ ì™„ë£Œ</span>
                </div>
            </div>
            <div class="info-row" th:if="${receipt.payoutDate != null}">
                <div class="info-label">ì§€ê¸‰ ì˜ˆì •ì¼</div>
                <div class="info-value" th:text="${receipt.payoutDate}">2026-02-10</div>
            </div>
        </div>

        <div class="amount-section">
            <div class="amount-row">
                <div class="amount-label">ì´ ë§¤ì… ê¸ˆì•¡</div>
                <div class="amount-value">
                    â‚©<span th:text="${#numbers.formatInteger(receipt.totalAmount, 0, 'COMMA')}">0</span>
                </div>
            </div>
            <div class="amount-row">
                <div class="amount-label">ê³µê¸‰ê°€ì•¡</div>
                <div class="amount-value">
                    â‚©<span th:text="${#numbers.formatInteger(receipt.supplyAmount, 0, 'COMMA')}">0</span>
                </div>
            </div>
            <div class="amount-row">
                <div class="amount-label">ë¶€ê°€ì„¸ (10%)</div>
                <div class="amount-value">
                    â‚©<span th:text="${#numbers.formatInteger(receipt.taxAmount, 0, 'COMMA')}">0</span>
                </div>
            </div>
            <div class="amount-row total-row">
                <div class="amount-label">ìµœì¢… ì •ì‚° ê¸ˆì•¡</div>
                <div class="amount-value">
                    â‚©<span th:text="${#numbers.formatInteger(receipt.totalAmount, 0, 'COMMA')}">0</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ë°ì´í„° ì—†ìŒ -->
    <div th:if="${receipt == null}" style="text-align: center; padding: 60px 20px; color: #999;">
        <div style="font-size: 48px; margin-bottom: 20px;">ğŸ“­</div>
        <p style="font-size: 18px; font-weight: bold;">ì •ì‚° ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
        <p style="font-size: 14px;">í•´ë‹¹ ê¸°ê°„ì˜ ì •ì‚° ë‚´ì—­ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
    </div>

    <!-- Footer -->
    <div class="footer">
        <div class="company-info">
            <strong>SPICY</strong> | ë³¸ì‚¬ ë§¤ì… ì •ì‚° ì‹œìŠ¤í…œ
        </div>
        <div class="company-info">
            ë¬¸ì˜: support@spicy.com | Tel: 02-1234-5678
        </div>
        <div class="timestamp">
            ë°œí–‰ì¼ì‹œ: <span th:text="${#temporals.format(#temporals.createNow(), 'yyyy-MM-dd HH:mm:ss')}">2026-01-19 17:00:00</span>
        </div>
        <div style="margin-top: 15px; font-size: 11px;">
            ë³¸ ë¬¸ì„œëŠ” SPICY ì‹œìŠ¤í…œì—ì„œ ìë™ìœ¼ë¡œ ìƒì„±ëœ ì •ì‚° ì˜ìˆ˜ì¦ì…ë‹ˆë‹¤.
        </div>
    </div>
</div>
</body>
</html>
